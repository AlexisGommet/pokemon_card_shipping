{"version":3,"file":"js/904.186d883d.js","mappings":"8eA6BMA,GAAYC,EAAAA,EAAAA,MAIZC,GAAWC,EAAAA,EAAAA,KAAMC,EAAAA,EAAAA,IAAWJ,EAAW,UAAUK,EAAAA,EAAAA,IAAM,OAAQ,KAAMC,EAAKA,KAAKC,MAAMF,EAAAA,EAAAA,IAAM,SAAU,KAAM,YAAYG,EAAAA,EAAAA,IAAQ,cAE/HC,GAAOC,EAAAA,EAAAA,MAEbC,eAAeC,IACX,IAAIC,EAAO,SACLC,EAAAA,EAAAA,IAAQZ,GAAUa,MAAMC,IAC1BA,EAAUC,SAASC,IACf,IAAIC,EAAOD,EAAIC,OACfA,EAAKC,GAAKF,EAAIE,GACdP,EAAKQ,KAAKF,MAEdV,EAAKa,MAAQT,KAIrB,SAASU,EAAQC,GAEb,MAAMC,EAAO,IAAIC,KAA8B,IAAzBF,EAAKG,UAAUC,SAC/BC,EAAOJ,EAAKF,UAAY,GAAK,IAAME,EAAKF,UAAYE,EAAKF,UACzDO,EAASL,EAAKM,WAAW,EAAK,GAAK,KAAON,EAAKM,WAAW,GAAMN,EAAKM,WAAW,EAChFC,EAAOP,EAAKQ,cACZC,EAAQT,EAAKU,WAAa,GAAK,IAAMV,EAAKU,WAAaV,EAAKU,WAC5DC,EAAUX,EAAKY,aAAe,GAAK,IAAMZ,EAAKY,aAAeZ,EAAKY,aAClET,EAAUH,EAAKa,aAAe,GAAK,IAAMb,EAAKa,aAAeb,EAAKa,aAExE,MAAQ,GAAET,KAAQC,KAASE,OAAUE,KAASE,KAAWR,IAG7DjB,eAAe4B,EAAWnB,SAChBoB,EAAAA,EAAAA,KAAUtB,EAAAA,EAAAA,IAAIlB,EAAW,QAASoB,IAAKL,MAAK,KAC9CN,EAAKa,MAAMmB,OAAOhC,EAAKa,MAAMoB,WAAUlB,GAAQA,EAAKJ,KAAOA,IAAK,MACjEuB,OAAOC,IACNC,QAAQC,IAAIF,MAIpBjC,eAAeoC,IAEX,MAAMC,EAAO,CACT,SAAY,GAAGvC,EAAKa,MAAM2B,QAG9B,IAEI,MAAMC,QAAiBC,MAAM,sEAAuE,CAChGC,OAAQ,OACRJ,KAAMK,KAAKC,UAAUN,GACrBO,QAAS,CAAC,eAAgB,sBAGxBC,QAAiBN,EAASO,OAChCC,OAAOC,SAASC,KAAOJ,EAASK,IAEnC,MAAMC,GACHJ,OAAOK,MAAM,W,OAKrBC,EAAAA,EAAAA,KAAW,KAEPpD,O,ojBCzFJ,MAAMqD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE","sources":["webpack://pokemon_card_shipping/./src/components/BasketShow.vue","webpack://pokemon_card_shipping/./src/components/BasketShow.vue?7744"],"sourcesContent":["<template>\r\n    <div class=\"basket\">\r\n        <button @click=\"checkout\" class=\"signOut\">Checkout</button>\r\n        <div v-for=\"(item, i) in docs\" :key=\"i\">\r\n            <h4>Carte {{ i + 1 }}<button class=\"delete\" @click=\"deleteCard(item.id)\">X</button></h4>\r\n            <div>\r\n                Propriété 1 : {{ item.text1 }}\r\n            </div>\r\n            <br>\r\n            <div>\r\n                Propriété 2 : {{ item.text2 }}\r\n            </div>\r\n            <br>\r\n            <div>\r\n                Propriété 3 : {{ item.text3 }}\r\n            </div>\r\n            <br>\r\n            <div>\r\n                Ajoutée le : {{ getDate(item) }}\r\n            </div>      \r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport { getFirestore, collection, orderBy, query, where, getDocs, deleteDoc, doc }  from 'firebase/firestore';\r\nimport { defineProps, ref, onMounted } from 'vue';\r\n\r\nconst firestore = getFirestore();\r\n\r\nconst auth = defineProps(['auth']);\r\n\r\nconst getquery = query(collection(firestore, \"Cards\"), where(\"user\", \"==\", auth.auth.uid), where(\"status\", \"==\", \"pending\"), orderBy(\"createdAt\"));\r\n\r\nconst docs = ref();\r\n\r\nasync function getItems(){\r\n    let list = [];\r\n    await getDocs(getquery).then((documents) => {\r\n        documents.forEach((doc) => {\r\n            let data = doc.data();\r\n            data.id = doc.id;\r\n            list.push(data);\r\n        });\r\n        docs.value = list;\r\n    });\r\n}\r\n\r\nfunction getDate(item){\r\n\r\n    const date = new Date(item.createdAt.seconds * 1000);\r\n    const days = date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate();\r\n    const month = (date.getMonth()+1) < 10 ? \"0\" + (date.getMonth()+1) : (date.getMonth()+1);\r\n    const year = date.getFullYear();\r\n    const hours = date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours();\r\n    const minutes = date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes();\r\n    const seconds = date.getSeconds() < 10 ? \"0\" + date.getSeconds() : date.getSeconds();\r\n\r\n    return `${days}/${month}/${year} à ${hours}:${minutes}:${seconds}`\r\n}\r\n\r\nasync function deleteCard(id){\r\n    await deleteDoc(doc(firestore, \"Cards\", id)).then(() => {\r\n        docs.value.splice(docs.value.findIndex(item => item.id === id), 1);\r\n    }).catch((error) => {\r\n        console.log(error);\r\n    });  \r\n}\r\n\r\nasync function checkout(){\r\n\r\n    const body = {\r\n        \"quantity\": \"\"+docs.value.length+\"\"\r\n    };\r\n\r\n    try{\r\n\r\n        const response = await fetch('https://us-central1-pokemoncardshipping.cloudfunctions.net/checkout', {\r\n            method: 'post',\r\n            body: JSON.stringify(body),\r\n            headers: {'Content-Type': 'application/json'},\r\n        });\r\n        \r\n        const redirect = await response.json()\r\n        window.location.href = redirect.url;\r\n\r\n    }catch(e){\r\n        window.alert(\"Erreur\");\r\n    }\r\n    \r\n}\r\n\r\nonMounted( () => {\r\n\r\n    getItems();\r\n\r\n});\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.basket{\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 50px;\r\n    margin: 0;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    -ms-transform: translate(-50%, -50%);\r\n    transform: translate(-50%, -50%);\r\n}\r\n.delete{\r\n    margin-left: 150px;\r\n}\r\n.signOut{\r\n    align-items: center;\r\n    appearance: none;\r\n    background-color: #fff;\r\n    border-radius: 24px;\r\n    border-style: none;\r\n    box-shadow: rgba(0, 0, 0, .2) 0 3px 5px -1px,rgba(0, 0, 0, .14) 0 6px 10px 0,rgba(0, 0, 0, .12) 0 1px 18px 0;\r\n    box-sizing: border-box;\r\n    color: #3c4043;\r\n    cursor: pointer;\r\n    display: inline-flex;\r\n    fill: currentcolor;\r\n    font-family: \"Google Sans\",Roboto,Arial,sans-serif;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    height: 30px;\r\n    justify-content: center;\r\n    letter-spacing: .25px;\r\n    line-height: normal;\r\n    max-width: 100%;\r\n    overflow: visible;\r\n    padding: 2px 24px;\r\n    text-align: center;\r\n    text-transform: none;\r\n    transition: box-shadow 280ms cubic-bezier(.4, 0, .2, 1),opacity 15ms linear 30ms,transform 270ms cubic-bezier(0, 0, .2, 1) 0ms;\r\n    user-select: none;\r\n    -webkit-user-select: none;\r\n    touch-action: manipulation;\r\n    width: auto;\r\n    will-change: transform,opacity;\r\n    z-index: 0;\r\n}\r\n.signOut:hover {\r\n  background: #F6F9FE;\r\n  color: #174ea6;\r\n}\r\n\r\n.signOut:active {\r\n  box-shadow: 0 4px 4px 0 rgb(60 64 67 / 30%), 0 8px 12px 6px rgb(60 64 67 / 15%);\r\n  outline: none;\r\n}\r\n\r\n.signOut:focus {\r\n  outline: none;\r\n  border: 2px solid #4285f4;\r\n}\r\n</style>","import script from \"./BasketShow.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BasketShow.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BasketShow.vue?vue&type=style&index=0&id=2014093e&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\ALEX\\\\Desktop\\\\pokemon_card_shipping\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2014093e\"]])\n\nexport default __exports__"],"names":["firestore","getFirestore","getquery","query","collection","where","auth","uid","orderBy","docs","ref","async","getItems","list","getDocs","then","documents","forEach","doc","data","id","push","value","getDate","item","date","Date","createdAt","seconds","days","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","getSeconds","deleteCard","deleteDoc","splice","findIndex","catch","error","console","log","checkout","body","length","response","fetch","method","JSON","stringify","headers","redirect","json","window","location","href","url","e","alert","onMounted","__exports__"],"sourceRoot":""}